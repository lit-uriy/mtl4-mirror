<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="typeof_files/filelist.xml">
<title>Contents</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Your Magesty</o:Author>
  <o:LastAuthor>Peder Holt</o:LastAuthor>
  <o:Revision>51</o:Revision>
  <o:TotalTime>1671</o:TotalTime>
  <o:LastPrinted>2004-07-02T04:26:00Z</o:LastPrinted>
  <o:Created>2004-06-19T17:31:00Z</o:Created>
  <o:LastSaved>2005-04-15T06:22:00Z</o:LastSaved>
  <o:Pages>8</o:Pages>
  <o:Words>3138</o:Words>
  <o:Characters>16632</o:Characters>
  <o:Company>Dell - Personal Systems Group</o:Company>
  <o:Lines>138</o:Lines>
  <o:Paragraphs>39</o:Paragraphs>
  <o:CharactersWithSpaces>19731</o:CharactersWithSpaces>
  <o:Version>11.5606</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:HyphenationZone>21</w:HyphenationZone>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:Arial;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:12.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:24.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:36.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:48.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:60.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:72.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:84.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{mso-style-update:auto;
	mso-style-next:Normal;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:96.0pt;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:widow-orphan;
	font-size:20.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
span.codeTegn
	{mso-style-name:"code Tegn";
	mso-style-locked:yes;
	mso-style-link:code;
	mso-bidi-font-size:12.0pt;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";
	color:black;
	mso-ansi-language:NO-BOK;
	mso-fareast-language:NO-BOK;
	mso-bidi-language:AR-SA;}
p.code, li.code, div.code
	{mso-style-name:code;
	mso-style-update:auto;
	mso-style-link:"code Tegn";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	background:#E6E6E6;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	color:black;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:36.0pt;
	mso-footer-margin:36.0pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:427044933;
	mso-list-type:hybrid;
	mso-list-template-ids:660604084 757728306 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:24.0pt;
	mso-level-number-position:left;
	margin-left:24.0pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l0:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l0:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1
	{mso-list-id:445852875;
	mso-list-type:hybrid;
	mso-list-template-ids:614103534 757728306 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l1:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l1:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2
	{mso-list-id:651715977;
	mso-list-type:hybrid;
	mso-list-template-ids:-414930750 67698693 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l2:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l2:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3
	{mso-list-id:717437442;
	mso-list-type:hybrid;
	mso-list-template-ids:-1852396236 67698693 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l3:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l3:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l4
	{mso-list-id:915942672;
	mso-list-type:hybrid;
	mso-list-template-ids:-400657020 67698693 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l4:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:54.0pt;
	mso-level-number-position:left;
	margin-left:54.0pt;
	text-indent:-18.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l4:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l4:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l4:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l4:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l4:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l4:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l4:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5
	{mso-list-id:1294751090;
	mso-list-type:hybrid;
	mso-list-template-ids:1709228486 757728306 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l5:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l5:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6
	{mso-list-id:1388336102;
	mso-list-type:hybrid;
	mso-list-template-ids:-1483053960 757728306 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0A7;
	mso-level-tab-stop:18.0pt;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-family:Wingdings;}
@list l6:level2
	{mso-level-tab-stop:72.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6:level3
	{mso-level-tab-stop:108.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6:level4
	{mso-level-tab-stop:144.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6:level5
	{mso-level-tab-stop:180.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6:level6
	{mso-level-tab-stop:216.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6:level7
	{mso-level-tab-stop:252.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6:level8
	{mso-level-tab-stop:288.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
@list l6:level9
	{mso-level-tab-stop:324.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=NO-BOK link=blue vlink=purple style='tab-interval:36.0pt'>

<div class=Section1>

<p class=MsoTitle><span lang=EN-US style='font-size:24.0pt;mso-bidi-font-size:
12.0pt;font-family:"Times New Roman";mso-ansi-language:EN-US'>THE BOOST TYPEOF
LIBRARY<o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><!--[if supportFields]><span
lang=EN-US style='mso-ansi-language:EN-US'><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'> </span>TOC \o &quot;1-3&quot; \n \h \z <span
style='mso-element:field-separator'></span></span><![endif]--><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235382"><span
lang=EN-US style='mso-ansi-language:EN-US'>Motivation</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235383"><span
lang=EN-US style='mso-ansi-language:EN-US'>Why typeof?</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235384"><span
lang=EN-US style='mso-ansi-language:EN-US'>Native typeof support</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc2 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235385"><span
lang=EN-US style='mso-ansi-language:EN-US'>Why typeof emulation?</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235386"><span
lang=EN-US style='mso-ansi-language:EN-US'>Example</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235387"><span
lang=EN-US style='mso-ansi-language:EN-US'>The 3 participating parties</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235388"><span
lang=EN-US style='mso-ansi-language:EN-US'>Features supported</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235389"><span
lang=EN-US style='mso-ansi-language:EN-US'>STL support</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235390"><span
lang=EN-US style='mso-ansi-language:EN-US'>Registration</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235391"><span
lang=EN-US style='mso-ansi-language:EN-US'>Usage</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235392"><span
lang=EN-US style='mso-ansi-language:EN-US'>What needs to be registered?</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235393"><span
lang=EN-US style='mso-ansi-language:EN-US'>Compilers supported</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235394"><span
lang=EN-US style='mso-ansi-language:EN-US'>Limits</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235395"><span
lang=EN-US style='mso-ansi-language:EN-US'>Known limitations</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235396"><span
lang=EN-US style='mso-ansi-language:EN-US'>Contributed by:</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoToc1 style='tab-stops:right dotted 431.5pt'><span
class=MsoHyperlink><span style='mso-no-proof:yes'><a href="#_Toc101235397"><span
lang=EN-US style='mso-ansi-language:EN-US'>Acknowledgements</span></a></span></span><span
style='mso-no-proof:yes'><o:p></o:p></span></p>

<p class=MsoNormal><!--[if supportFields]><span lang=EN-US style='mso-ansi-language:
EN-US'><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<b style='mso-bidi-font-weight:
normal'><o:p></o:p></b></span></p>

<h1><a name="_Toc101235382"><span lang=EN-US style='mso-ansi-language:EN-US'>Motivation</span></a><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<h2><a name="_Toc101235383"><span lang=EN-US style='mso-ansi-language:EN-US'>Why
typeof?</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Today many
template libraries supply object generators to simplify object creation by
utilizing the C++ template argument deduction facility.<span
style='mso-spacerun:yes'>  </span>Consider std::pair.<span
style='mso-spacerun:yes'>  </span>In order to instantiate this class template
and create a temporary object of this instantiation, one has to supply both
type parameters and value parameters:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>std::pair&lt;int,
double&gt;(5, 3.14159);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>To avoid
this duplication, STL supplies the std::make_pair object generator.<span
style='mso-spacerun:yes'>  </span>When it is used, the types of template
parameters are deduced from supplied function arguments:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>std::make_pair(5,
3.14159);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>For the
temporary objects it is enough.<span style='mso-spacerun:yes'>  </span>However,
when a named object needs to be allocated, the problem appears again:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>std::pair&lt;int,
double&gt; p(5, 3.14159);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The object
generator no longer helps:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>std::pair&lt;int,
double&gt; p = std::make_pair(5, 3.14159);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>It would be
nice to deduce the type of the object (on the left) from the expression it is
initialized with (on the right), but the current C++ syntax doesn’t allow for
this.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The above
example demonstrates the essence of the problem but doesn’t demonstrate its
scale.<span style='mso-spacerun:yes'>  </span>Many libraries, especially
expression template libraries, create objects of really complicated types, and
go a long way to hide this complexity behind object generators.<span
style='mso-spacerun:yes'>  </span>Consider a nit Boost.Lambda functor:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>_1 &gt; 15
&amp;&amp; _2 &lt; 20<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>If one wanted
to allocate a named copy of such an innocently looking functor, she would have
to specify something like this:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span class=SpellE><span lang=EN-US style='mso-ansi-language:
EN-US'>lambda_functor</span></span><span lang=EN-US style='mso-ansi-language:
EN-US'>&lt;<br>
<span style='mso-tab-count:1'>      </span><span class=SpellE>lambda_functor_base</span>&lt;<br>
<span style='mso-tab-count:2'>            </span><span class=SpellE>logical_action</span>&lt;<span
class=SpellE>and_action</span>&gt;,<br>
<span style='mso-tab-count:2'>            </span><span class=SpellE>tuple</span>&lt;<br>
<span style='mso-tab-count:3'>                  </span><span class=SpellE>lambda_functor</span>&lt;<br>
<span style='mso-tab-count:4'>                        </span><span
class=SpellE>lambda_functor_base</span>&lt;<br>
<span style='mso-tab-count:5'>                              </span><span
class=SpellE>relational_action</span>&lt;<span class=SpellE>greater_action</span>&gt;,<br>
<span style='mso-tab-count:5'>                              </span><span
class=SpellE>tuple</span>&lt;<br>
<span style='mso-tab-count:6'>                                    </span><span
class=SpellE>lambda_functor</span>&lt;placeholder&lt;1&gt; &gt;,<br>
<span style='mso-tab-count:6'>                                    </span><span
class=SpellE>int</span> const<br>
<span style='mso-tab-count:5'>                              </span>&gt; <br>
<span style='mso-tab-count:4'>                        </span>&gt; <br>
<span style='mso-tab-count:3'>                  </span>&gt;,<br>
<span style='mso-tab-count:3'>                  </span><span class=SpellE>lambda_functor</span>&lt;<br>
<span style='mso-tab-count:4'>                        </span><span
class=SpellE>lambda_functor_base</span>&lt;<br>
<span style='mso-tab-count:5'>                              </span><span
class=SpellE>relational_action</span>&lt;<span class=SpellE>less_action</span>&gt;,<br>
<span style='mso-tab-count:5'>                              </span><span
class=SpellE>tuple</span>&lt;<br>
<span style='mso-tab-count:6'>                                    </span><span
class=SpellE>lambda_functor</span>&lt;placeholder&lt;2&gt; &gt;,<br>
<span style='mso-tab-count:6'>                                    </span><span
class=SpellE>int</span> const <br>
<span style='mso-tab-count:5'>                              </span>&gt; <br>
<span style='mso-tab-count:4'>                        </span>&gt; <br>
<span style='mso-tab-count:3'>                  </span>&gt;<br>
<span style='mso-tab-count:2'>            </span>&gt; <br>
<span style='mso-tab-count:1'>      </span>&gt; <br>
&gt;&nbsp;<br>
f = _1 &gt; 15 &amp;&amp; _2 &lt; 20;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Not exactly
elegant.<span style='mso-spacerun:yes'>  </span>To solve this problem, the C++
standard committee is considering a few additions to the standard language,
such as typeof/decltype and auto (see <a
href="http://www.osl.iu.edu/~jajarvi/publications/papers/decltype_n1478.pdf">http://www.osl.iu.edu/~jajarvi/publications/papers/decltype_n1478.pdf</a>).<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The typeof
operator (or decltype, which is a slightly different flavor of typeof) allows
one to determine the type of an expression at compile time.<span
style='mso-spacerun:yes'>  </span>Using typeof, the above example can be
simplified drastically:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>typeof(_1 &gt;
15 &amp;&amp; _2 &lt; 20) f = _1 &gt; 15 &amp;&amp; _2 &lt; 20;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Much
better, but there still is duplication.<span style='mso-spacerun:yes'> 
</span>The auto type solves the rest of the problem:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>auto f = _1 &gt;
15 &amp;&amp; _2 &lt; 20;<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<h2><a name="_Toc101235384"><span lang=EN-US style='mso-ansi-language:EN-US'>Native
typeof support</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Many
compilers support typeof already, most noticeable GCC and Metrowerks.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Igor
Chesnokov recently discovered a method that allows to implement typeof on the
VC series of compilers.<span style='mso-spacerun:yes'>  </span>It uses a bug in
the Microsoft compiler that allows a nested class of base to be defined in a
class derived from base:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>template&lt;int
ID&gt; struct typeof_access<br>
{<br>
&nbsp; &nbsp;struct id2type; // not defined<br>
};<br>
<br>
template&lt;class T, int ID&gt; struct typeof_register : typeof_access<br>
{<br>
<span style='mso-spacerun:yes'>   </span>// define base's nested class here<br>
&nbsp; &nbsp;<span class=SpellE>struct</span> typeof_access::id2type&nbsp;
&nbsp;{<br>
&nbsp; &nbsp; &nbsp; &nbsp;typedef T type;<br>
&nbsp; &nbsp;};<br>
};<br>
<br>
//Type registration function&nbsp;<br>
<span class=SpellE>typeof_register</span>&lt;<span class=SpellE>T,<i
style='mso-bidi-font-style:normal'>compile</i></span><i style='mso-bidi-font-style:
normal'>-time-constant</i>&gt; <span class=SpellE>register_type</span>(const
T&amp;);<br>
<br>
//Actually register type by instantiating <span class=SpellE>typeof_register</span>
for the correct <span class=SpellE>type</span><br>
<span class=SpellE>sizeof</span>(<span class=SpellE>register_type</span>(</span><i
style='mso-bidi-font-style:normal'><span lang=EN-US style='mso-bidi-font-size:
10.0pt;mso-ansi-language:EN-US'>some-type</span></i><span lang=EN-US
style='mso-bidi-font-size:10.0pt;mso-ansi-language:EN-US'>));</span><span
lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<br>
<br>
//Use the base class to access the type.<br>
<span class=SpellE><span class=GramE>typedef</span></span>
typeof_access::id2type::type type;&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>This method
has also been adapted to VC7.0, where the nested class is a template class that
is specialized in the derived class. The loopholes have been fixed in VC8.0
though, so on this compiler this method doesn’t work.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>For this
and many other compilers neither native typeof support nor the trick described
above is an option.<span style='mso-spacerun:yes'>  </span>For such compilers
there has to be other way of implementing typeof.<o:p></o:p></span></p>

<h2><a name="_Toc101235385"><span lang=EN-US style='mso-ansi-language:EN-US'>Why
typeof emulation?</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h2>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>According
to a rough estimate, at the time of this writing (June 2004) the introduction
of the typeof, auto, etc., into the C++ standard is not going to happen at
least within a year.<span style='mso-spacerun:yes'>  </span>Even after it’s
done, some time still has to pass before most compilers implement this
feature.<span style='mso-spacerun:yes'>  </span>But even after that, there
always are legacy compilers to support (for example now, in 2004, many people
are still using VC6, long after VC7.x became available).<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Considering
extreme usefulness of the feature <i>right now</i>, it seems to make sense to
try to emulate it at a library level.<span style='mso-spacerun:yes'> 
</span>Such emulation will inevitably have major drawbacks, such as additional
responsibilities put on the library users, slower compiles, etc., but in the end,
depending on the context, the benefits will likely outweigh.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The Typeof
library implements such emulation utilizing template and preprocessor
meta-programming facilities provided by Boost MPL and Preprocessor
libraries.<span style='mso-spacerun:yes'>   </span><o:p></o:p></span></p>

<h1><a name="_Toc101235386"><span lang=EN-US style='mso-ansi-language:EN-US'>Example</span></a><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Here is how
one could re-write the above examples using BOOST_AUTO:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="50%" valign=top style='width:50.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
  6.0pt;margin-left:0cm'><b>Boost.Typeof<o:p></o:p></b></p>
  </td>
  <td width="50%" valign=top style='width:50.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
  6.0pt;margin-left:0cm'><b>typeof<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width="50%" valign=top style='width:50.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
  6.0pt;margin-left:0cm'><span lang=EN-GB style='font-size:11.0pt;mso-bidi-font-size:
  12.0pt;font-family:"Courier New";mso-ansi-language:EN-GB'>BOOST_AUTO(p,
  std::make_pair(5, 3.14159));<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>
  </td>
  <td width="50%" valign=top style='width:50.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
  6.0pt;margin-left:0cm'><span lang=EN-GB style='font-size:11.0pt;mso-bidi-font-size:
  12.0pt;font-family:"Courier New";mso-ansi-language:EN-GB'>auto p =
  std::make_pair(5, 3.14159);<o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;mso-yfti-lastrow:yes'>
  <td width="50%" valign=top style='width:50.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
  6.0pt;margin-left:0cm'><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New"'>BOOST_AUTO(f, </span><span style='font-size:11.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New"'>_1 &gt; 15 <span
  class=GramE>&amp;&amp;</span> _2 &lt; 20</span><span style='font-size:11.0pt;
  mso-bidi-font-size:12.0pt;font-family:"Courier New"'>);<o:p></o:p></span></p>
  </td>
  <td width="50%" valign=top style='width:50.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt;margin-right:0cm;margin-bottom:
  6.0pt;margin-left:0cm'><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New"'>auto f = </span><span style='font-size:11.0pt;
  mso-bidi-font-size:10.0pt;font-family:"Courier New"'>_1 &gt; 15 &amp;&amp; _2
  &lt; 20</span><span style='font-size:11.0pt;mso-bidi-font-size:12.0pt;
  font-family:"Courier New"'>;<span style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Looks like
a pretty good approximation.<span style='mso-spacerun:yes'>  </span>However,
there is some cost.<span style='mso-spacerun:yes'>  </span>Since, unlike the
compiler, the library doesn’t know much about types the expression is combined
of, the user must help by providing some information.<span
style='mso-spacerun:yes'>  </span>For the first example something like
following has to be specified:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>#include
BOOST_TYPEOF_INCREMENT_REGISTRATION_<span class=GramE>GROUP(</span>)<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>std::pair</span>,
2);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The first
line:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>#include
BOOST_TYPEOF_INCREMENT_REGISTRATION_GROUP()<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>does pretty
much what it says: increments the BOOST_TYPEOF_REGISTRATION_GROUP symbolic
constant.&nbsp;&nbsp;This constant is&nbsp;used by all registration macros, and
must be defined to some unique integer in every source or header file that
contains any registration.<span style='mso-spacerun:yes'>  </span>Incrementing
it insures that it is, indeed, unique. <o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The&nbsp;second
line&nbsp;registers std::pair as a template with two type parameters.<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Once any
types and templates are registered, the library can handle any combination of
those.<span style='mso-spacerun:yes'>  </span>Since all the fundamental types
are pre-registered by the typeof library, the above registration makes it
possible to also write something like this:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>BOOST_<span
class=GramE>AUTO(</span>p,<span style='mso-spacerun:yes'>  </span><br>
<span style='mso-spacerun:yes'>  </span><span class=SpellE>std::make_pair</span>(<br>
<span style='mso-spacerun:yes'>    </span>std::make_pair(5, 3.14159),<br>
<span style='mso-spacerun:yes'>    </span>std::make_pair(2.71828, 6)));<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The more
complicated Lambda example above requires some more registration:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>#include
BOOST_TYPEOF_INCREMENT_REGISTRATION_GROUP()<br>
&nbsp;<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>boost::tuples::tuple</span>,
2);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>boost::lambda::lambda_functor</span>,
1);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>boost::lambda::lambda_functor_base</span>,
2);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>boost::lambda::relational_action</span>,
1);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>boost::lambda::logical_action</span>,
1);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>boost::lambda::other_action</span>,
1);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TYPE</span>(<span class=SpellE>boost::lambda::greater_action</span>);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TYPE</span>(<span class=SpellE>boost::lambda::less_action</span>);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TYPE</span>(<span class=SpellE>boost::lambda::and_action</span>);<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>boost::lambda::placeholder</span>,
(int));<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<h1><a name="_Toc101235387"><span lang=EN-US style='mso-ansi-language:EN-US'>The
3 participating parties</span></a><span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>It may seem
that the price for the ability to discover the expression’s type is too high:
rather large amount of registration is required.<span
style='mso-spacerun:yes'>  </span>However note that all of the above
registration is done only once, and after that,&nbsp;any combination of the
registered types and templates would be handled.&nbsp; Moreover, this
registration is typically done not by the end-user, but rather by a layer on
top of some library (in this example -- Boost.Lambda). <o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>When
thinking about this, it’s helpful to consider three parties: the typeof
facility, the library (probably built on expression templates principle), and
the end-user.<span style='mso-spacerun:yes'>  </span>The typeof facility is
responsible for registering fundamental types.<span style='mso-spacerun:yes'> 
</span>The library can register its own types and templates.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>In the
best-case scenario, if the expressions always consist of only fundamental types
and library-defined types and templates, a library author can achieve the
impression that the typeof is natively supported for her library.<span
style='mso-spacerun:yes'>  </span>On the other hand, the more often expressions
contain user-defined types, the more responsibility is put on the end-user, and
therefore the less attractive this approach becomes.<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Thus, the
ratio of user-defined types in the expressions should be the main factor to
consider when deciding whether or not to apply this facility. <o:p></o:p></span></p>

<h1><a name="_Toc101235388"><span lang=EN-US style='mso-ansi-language:EN-US'>Features
supported</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The Boost.Typeof<span
style='mso-spacerun:yes'>  </span>library pre-registers fundamental types.<span
style='mso-spacerun:yes'>  </span>For these types, and for any other
types/templates registered by the user library or end-user, any combination of
the following is supported:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Pointers;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>References
(except top-level);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Consts
(except top-level);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Volatiles
(except top-level);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Arrays;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Functions
(compliant compilers only), function pointers, and references;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Pointers
to member functions;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:24.0pt;text-indent:-18.0pt;mso-list:l0 level1 lfo2;
tab-stops:list 24.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Pointers
to data members.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>For example
the following type:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>int&amp;
(*)(const volatile char*, double[5], void(*)(short))<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>is
supported right away, and something like:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>void
(MyClass::*)(int MyClass::*, MyClass[10]) const<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>is
supported provided MyClass is registered. <o:p></o:p></span></p>

<h1><a name="_Toc101235389"><span lang=EN-US style='mso-ansi-language:EN-US'>STL
support</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The library
also provides registration files for most STL classes/templates.<span
style='mso-spacerun:yes'>  </span>These files are located in the std
subdirectory, and named after corresponding STL headers.<span
style='mso-spacerun:yes'>  </span>These files are not included by the typeof
system and have to be explicitly included by the user, as needed:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>#include
&lt;boost/<span class=SpellE>typeof/std/functional.hpp</span>&gt;<br>
<span class=SpellE>BOOST_<span class=GramE>AUTO</span></span><span class=GramE>(</span>fun,
std::bind2nd(std::less&lt;int&gt;(), 21)); //create named function object for
future use.<o:p></o:p></span></p>

<h1><a name="_Toc101235390"><span lang=EN-US style='mso-ansi-language:EN-US'>Registration</span></a><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Registration
may be done by either a library author or an end-user.<span
style='mso-spacerun:yes'>  </span>The purpose of the registration is to tell
the typeof system about a given type or template, so that it can be handled.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Two macros
are provided to handle the registration: <o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l5 level1 lfo4;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><b><span lang=EN-US style='mso-ansi-language:
EN-US'>BOOST_TYPEOF_REGISTER_TYPE</span></b><span lang=EN-US style='mso-ansi-language:
EN-US'>(Name);<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l5 level1 lfo4;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><b><span lang=EN-US style='mso-ansi-language:
EN-US'>BOOST_TYPEOF_REGISTER_TEMPLATE</span></b><span lang=EN-US
style='mso-ansi-language:EN-US'>(Name, Params);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Both macros
rely on the integer value defined by BOOST_TYPEOF_REGISTRATION_GROUP.<span
style='mso-spacerun:yes'>  </span>This value should be unique for each file,
since it is used in conjunction with __LINE__ preprocessor macro to generate
unique integer identifiers to assign to types and templates.<span
style='mso-spacerun:yes'>  </span>To establish a unique value for BOOST_TYPEOF_REGISTRATION_GROUP,
the following line should be specified before the actual registration is done:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>#include <b>BOOST_TYPEOF_INCREMENT_REGISTRATION_GROUP</b>()<o:p></o:p></span></p>

<p class=MsoToc1><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>A type is
registered by simply supplying its name to the BOOST_TYPEOF_REGISTER_TYPE
macro:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>BOOST_TYPEOF_REGISTER_TYPE(MyType);<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>A template
is registered with the BOOST_TYPEOF_REGISTER_TEMPLATE macro.<span
style='mso-spacerun:yes'>  </span>The first parameter to this macro is the name
of the template.<span style='mso-spacerun:yes'>  </span>The second parameter
describes the parameters of the template, and may come in one of two forms:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>If the
template has only type parameters, then just the number of parameters can be
supplied:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span class=GramE><span lang=EN-US style='mso-ansi-language:EN-US'>template&lt;</span></span><span
lang=EN-US style='mso-ansi-language:EN-US'>class T, class U&gt; <br>
class <span class=SpellE>MyTemplate</span>;<br>
&nbsp;<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>MyTemplate</span>,
2)<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>In more
general case, the parameters have to be described with a preprocessor sequence:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span class=GramE><span lang=EN-US style='mso-ansi-language:EN-US'>template&lt;</span></span><span
lang=EN-US style='mso-ansi-language:EN-US'>class T, unsigned int n&gt;<br>
class <span class=SpellE>MyTemplate</span>;<br>
&nbsp;<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>MyTemplate</span>,
(class)(unsigned <span class=SpellE>int</span>))<o:p></o:p></span></p>

<p class=MsoToc1><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The library
allows registration of templates with type, integral, and template template parameters:<o:p></o:p></span></p>

<p class=MsoToc1><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l4 level1 lfo6;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>A
type template parameter is described by the (class) or (typename) sequence
element<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l4 level1 lfo6;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>A
template parameter of a well-known integral type can be described by simply
supplying its type, like (unsigned int).<span style='mso-spacerun:yes'> 
</span>The following well-known integral types are supported:&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l4 level2 lfo6;
tab-stops:list 54.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Courier New";mso-fareast-font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-list:Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>[signed/unsigned]
char<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l4 level2 lfo6;
tab-stops:list 54.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Courier New";mso-fareast-font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-list:Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>[unsigned]
short<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l4 level2 lfo6;
tab-stops:list 54.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Courier New";mso-fareast-font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-list:Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>[unsigned]
int<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l4 level2 lfo6;
tab-stops:list 54.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Courier New";mso-fareast-font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-list:Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>[unsigned]
long<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l4 level2 lfo6;
tab-stops:list 54.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Courier New";mso-fareast-font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-list:Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>unsigned<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l4 level2 lfo6;
tab-stops:list 54.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Courier New";mso-fareast-font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-list:Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>bool<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:54.0pt;text-indent:-18.0pt;mso-list:l4 level2 lfo6;
tab-stops:list 54.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
"Courier New";mso-fareast-font-family:"Courier New";mso-ansi-language:EN-US'><span
style='mso-list:Ignore'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>size_t<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l4 level1 lfo6;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Other
integral types, such as enums, need to be described explicitly with the <b>BOOST_TYPEOF_INTEGRAL</b>
macro, like (BOOST_TYPEOF_INTEGRAL(MyEnum)) <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l4 level1 lfo6;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Template
template parameters are described with the <b>BOOST_TYPEOF_TEMPLATE</b> macro,
like: (BOOST_TYPEOF_TEMPLATE((class)(unsigned int))).<span
style='mso-spacerun:yes'>  </span>In case of all type parameters this can be
shortened to something like (BOOST_TYPEOF_TEMPLATE(2)).<span
style='mso-spacerun:yes'>  </span>The nested template template parameters are
not supported. <o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'> </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>For
example:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span class=SpellE><span class=GramE><span lang=EN-US
style='mso-ansi-language:EN-US'>enum</span></span></span><span lang=EN-US
style='mso-ansi-language:EN-US'> <span class=SpellE>MyEnum</span> {one, two,
three};<br>
&nbsp;<br>
template&lt;class T, unsigned int n&gt;<br>
class A;<br>
&nbsp;<br>
template&lt;template&lt;class, unsigned <span class=SpellE>int</span>&gt; class
Tpl, MyEnum e&gt;<br>
class B;<br>
&nbsp;<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(A, (class)(unsigned <span
class=SpellE>int</span>))<br>
&nbsp;<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(B, <br>
<span style='mso-spacerun:yes'>      </span>(<span class=SpellE>BOOST_TYPEOF_TEMPLATE</span>((class)(unsigned
<span class=SpellE>int</span>)))<br>
<span style='mso-spacerun:yes'>      </span>(<span class=SpellE>BOOST_TYPEOF_INTEGRAL</span>(<span
class=SpellE>MyEnum</span>))<br>
)<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The library
also supports dependent template parameters:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span class=GramE><span lang=EN-US style='mso-ansi-language:EN-US'>template&lt;</span></span><span
lang=EN-US style='mso-ansi-language:EN-US'>class T, T n&gt; <br>
<span class=SpellE>struct</span> A;<br>
&nbsp;<br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(A,<br>
<span style='mso-spacerun:yes'>      </span>(class)<br>
<span style='mso-spacerun:yes'>      </span>(<span class=SpellE>BOOST_TYPEOF_INTEGRAL</span>(<b>P0</b>))<br>
);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>A template
is encoded by combining its integer identifier with results of encoding its
parameters.<span style='mso-spacerun:yes'>  </span>If a template has default
parameters, it might be a good idea to register it more than once:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>BOOST_TYPEOF_REGISTER_<span
class=GramE>TEMPLATE(</span>std::set, 3); <br>
<span class=SpellE>BOOST_TYPEOF_REGISTER_TEMPLATE</span>(<span class=SpellE>std::set</span>,
1);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The above
would result in two different pairs of template specializations, the latter one
– more specialized.<span style='mso-spacerun:yes'>  </span>Consider
std::set&lt;int[, std::less&lt;int&gt;, std::allocator&lt;int&gt; ]&gt;.<span
style='mso-spacerun:yes'>  </span>In general this type would be encoded by 6
integers:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>std::set,
int, std::less, int, std::allocator, int<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>However,
because the second registration was done, in this particular case only two
integers would be required, thus saving on default parameters:<o:p></o:p></span></p>

<p class=MsoToc1><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>std::set,
int<o:p></o:p></span></p>

<h1><a name="_Toc101235391"><span lang=EN-US style='mso-ansi-language:EN-US'>Usage</span></a><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The usage
is pretty straightforward.<span style='mso-spacerun:yes'>  </span></span><b><span
lang=EN-US style='font-family:Arial;mso-ansi-language:EN-US'>BOOST_TYPEOF</span></b><span
lang=EN-US style='mso-ansi-language:EN-US'> is used to discover the type of the
expression, like following:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>BOOST_<span
class=GramE>TYPEOF(</span>f) f1; // compare with: typeof(f) f1;<br>
f1 = f; <o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'><br>
</span><b><span lang=EN-US style='font-family:Arial;mso-ansi-language:EN-US'>BOOST_AUTO</span></b><span
lang=EN-US style='mso-ansi-language:EN-US'> is used to allocate a named object
initialized with a given expression such as:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>BOOST_AUTO(f, _1
&gt; 15 &amp;&amp; _2 &lt; 20); // compare with: auto f = _1 &gt; 15 &amp;&amp;
_2 &lt; 20; <o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>A (const)
reference can be allocated like this:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span class=GramE><span lang=EN-US style='mso-ansi-language:EN-US'>const</span></span><span
lang=EN-US style='mso-ansi-language:EN-US'> int&amp; foo()<br>
{<br>
<span style='mso-spacerun:yes'>      </span>static <span class=SpellE>int</span>
n;<br>
<span style='mso-spacerun:yes'>      </span>return n;<br>
} <br>
&nbsp;<br>
//<span class=SpellE>later:</span><br>
<span class=SpellE>BOOST_AUTO</span>(const&amp; var, foo()); // compare with:
auto const&amp; var = foo();<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><b><span lang=EN-US style='font-family:Arial;mso-ansi-language:
EN-US'>BOOST_TYPEOF_TPL</span></b><span lang=EN-US style='mso-ansi-language:
EN-US'> and </span><b><span lang=EN-US style='font-family:Arial;mso-ansi-language:
EN-US'>BOOST_AUTO_TPL</span></b><span lang=EN-US style='mso-ansi-language:EN-US'>,
accordingly, should be used in templates when the expression depends on
template parameters.<span style='mso-spacerun:yes'>  </span>These macros take
care of adding or avoiding the keyword “typename”, depending on the compiler,
as well as on whether the native typeof support or emulation is being used.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Another
macro, </span><b><span lang=EN-US style='font-family:Arial;mso-ansi-language:
EN-US'>BOOST_LVALUE_TYPEOF</span></b><span lang=EN-US style='mso-ansi-language:
EN-US'>, is an attempt to emulate the “decltype”.<span
style='mso-spacerun:yes'>  </span>Its rules, however, are directly built on the
rules of binding a reference, and therefore differ from the ones of real
“decltype”:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
 style='width:100.0%;border-collapse:collapse;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:6.0pt'><b>expr<o:p></o:p></b></p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:6.0pt'><b>Decltype<o:p></o:p></b></p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal style='margin-bottom:6.0pt'><b>BOOST_LVALUE _TYPEOF<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int i;</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>Int</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int&amp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int ci = 0;</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int&amp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int&amp; ri = I</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int&amp;</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int&amp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int&amp; cri = ci;</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int&amp;</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int&amp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int foo();</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>Int</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>const int foo();<o:p></o:p></b></p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>const int<o:p></o:p></b></p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal><b>const int&amp;<o:p></o:p></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int&amp; foo();</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int&amp;</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoToc1>int&amp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int&amp; foo();</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>const int&amp;</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoToc1>const int&amp;</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>21</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>compiler-dependent</p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10;mso-yfti-lastrow:yes'>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int(21)</p>
  </td>
  <td width="33%" valign=top style='width:33.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int</p>
  </td>
  <td width="34%" valign=top style='width:34.0%;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal>int</p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'><br>
Of all these rules, the highlighted one seems to be the most unfortunate. <o:p></o:p></span></p>

<h1><a name="_Toc101235392"><span lang=EN-US style='mso-ansi-language:EN-US'>What
needs to be registered?</span></a><span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>It is
possible to take advantage of the compiler when registering types for the
typeof library. Even though there is currently no direct support for typeof in
the language, the compiler is aware of what the type of an expression is, and
gives an error if it encounters an expression that has not been handled
correctly. In the typeof context, this error message will contain clues to what
types needs to be registered with the typeof library in order for BOOST_TYPEOF
to work.<br style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]><o:p></o:p></span></p>

<p class=code><span class=GramE><span lang=EN-GB style='mso-ansi-language:EN-GB'>struct</span></span><span
lang=EN-GB style='mso-ansi-language:EN-GB'> X {};<br>
</span><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;</span><span
lang=EN-GB style='mso-ansi-language:EN-GB'><br>
template&lt;<span class=SpellE>typename</span> <span class=SpellE>A,bool</span>
B&gt;<br>
<span class=SpellE>struct</span> Y {};<br>
<br>
<span class=SpellE>std::pair</span>&lt;<span class=SpellE>X,Y</span>&lt;<span
class=SpellE>int,true</span>&gt; &gt; a;<br>
<br>
<span class=SpellE>BOOST_AUTO</span>(<span class=SpellE>a,b</span>);<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>We get the
following error message from VC7.1<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-GB style='mso-ansi-language:EN-GB'>error C2504:
'boost::type_of::`anonymous-namespace'::encode_type_impl&lt;V,Type_Not_Registered_With_Typeof_System&gt;'
: base<br>
class undefined<br>
<span style='mso-tab-count:1'>      </span>with <br>
<span style='mso-tab-count:1'>      </span>[<br>
<span style='mso-tab-count:2'>            </span>V=boost::type_of::`anonymous-namespace'::encode_type_impl&lt;boost::mpl::vector0&lt;boost::mpl::na&gt;,std::pair&lt;X,Y&lt;int,true&gt;&gt;&gt;::V0,<br>
<span style='mso-tab-count:2'>            </span><span class=SpellE>Type_Not_Registered_With_Typeof_System</span>=X<br>
<span style='mso-tab-count:1'>      </span>]<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Inspecting
this error message, we see that the compiler complains about X <o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-GB style='mso-ansi-language:EN-GB'>BOOST_TYPEOF_REGISTER_TYPE(X);
//register X with the typeof system</span><span lang=EN-US style='mso-ansi-language:
EN-US'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'><br>
Recompiling, we get a new error message from VC7.1<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-GB style='mso-ansi-language:EN-GB'>error C2504: 'boost::type_of::`anonymous-namespace'::encode_type_impl&lt;V,Type_Not_Registered_With_Typeof_System&gt;'
: base<br>
class undefined<br>
<span style='mso-tab-count:1'>      </span>with<br>
<span style='mso-tab-count:1'>      </span>[<br>
<span style='mso-tab-count:2'>            </span>V=boost::type_of::`anonymous-namespace'::encode_type_impl&lt;boost::mpl::vector0&lt;boost::mpl::na&gt;,std::pair&lt;X,Y&lt;int,true&gt;&gt;&gt;::V1,<br>
<span style='mso-tab-count:2'>            </span><span class=SpellE>Type_Not_Registered_With_Typeof_System</span>=Y&lt;<span
class=SpellE>int,true</span>&gt;<br>
<span style='mso-tab-count:1'>      </span>]<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Inspecting
this error message, we see that the compiler complains about Y&lt;int<span
class=GramE>,true</span>&gt;.<br>
Since Y is a template, and contains integral constants, we need to take more
care when registering:<br style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]><o:p></o:p></span></p>

<p class=code><span class=codeTegn><span lang=EN-GB style='mso-bidi-font-family:
"Times New Roman";mso-ansi-language:EN-GB'>BOOST_TYPEOF_REGISTER_TEMPLATE(Y,(typename)(bool));
//register template class Y</span></span><span lang=EN-GB style='mso-ansi-language:
EN-GB'><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'>It is a
good idea to look up the exact definition of Y when it contains integral
constants. For simple template classes containing only typenames, you can rely
solely on the compiler error.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-GB style='mso-ansi-language:EN-GB'><br>
The above code now compiles.<br>
<br>
This technique can be used to get an overview of which types needs to be
registered for a given project in order to support typeof.</span><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<h1><a name="_Toc101235393"><span lang=EN-US style='mso-ansi-language:EN-US'>Compilers
supported</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The system
has been tested with the following compilers:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l3 level1 lfo8;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>MSVC
6.5/7.0/7.1/8.0;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l3 level1 lfo8;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>GCC
3.4.2<o:p></o:p></span></p>

<h1><a name="_Toc101235394"><span lang=EN-US style='mso-ansi-language:EN-US'>Limits</span></a><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l1 level1 lfo10;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>The
number of nodes in the expression is limited by BOOST_TYPEOF_LIMIT_SIZE, by
default 50.<span style='mso-spacerun:yes'>  </span>This number can be
increased, but, depending on the compiler, there is upper limit to this.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l1 level1 lfo10;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>The
number of function parameters supported is limited by
BOOST_TYPEOF_LIMIT_FUNCTION_ARITY, by default 10.<span
style='mso-spacerun:yes'>  </span>This applies to functions, function pointers
and references, and to pointers to member functions.<o:p></o:p></span></p>

<h1><a name="_Toc101235395"><span lang=EN-US style='mso-ansi-language:EN-US'>Known
limitations</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Nested
template template parameters are not supported, like:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span class=GramE><span lang=EN-US style='mso-ansi-language:EN-US'>template&lt;</span></span><span
lang=EN-US style='mso-ansi-language:EN-US'>template&lt;template&lt;class&gt;
class&gt; class Tpl&gt; <br>
class A; // can’t register!<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Classes and
templates nested inside other templates also can’t be registered because of the
issue of nondeduced context.<span style='mso-spacerun:yes'>  </span>This
limitation is most noticeable with regards to standard iterators in Dinkumware
STL, which are implemented as nested classes.<span style='mso-spacerun:yes'> 
</span>Instead, instantiations can be registered:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=code><span lang=EN-US style='mso-ansi-language:EN-US'>BOOST_TYPEOF_REGISTER_TYPE(std::list&lt;int&gt;::const_iterator)<o:p></o:p></span></p>

<h1><a name="_Toc101235396"><span lang=EN-US style='mso-ansi-language:EN-US'>Contributed
by:</span></a><span lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l2 level1 lfo12;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Compliant
compilers <span style='mso-tab-count:1'>        </span>--<span
style='mso-tab-count:1'>          </span>Arkadiy Vertleyb, Peder Holt<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l2 level1 lfo12;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>MSVC
6.5, 7.0, 7.1 <span style='mso-tab-count:1'>          </span>-- <span
style='mso-tab-count:1'>         </span>Igor Chesnokov, Peder Holt<br
style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]><o:p></o:p></span></p>

<h1><a name="_Toc101235397"><span lang=EN-US style='mso-ansi-language:EN-US'>Acknowledgements</span></a><span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></h1>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The idea of
representing a type as multiple compile-time integers, and passing these
integers across function boundaries using sizeof(), was taken from Steve
Dewhurst’s article “A Bitwise typeof Operator”, CUJ 2002.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Special
thank you to Paul Mensonides, Vesa Karvonen, and Aleksey Gurtovoy for the Boost
Preprocessor Library and MPL.<span style='mso-spacerun:yes'>  </span>Without
these two libraries, this typeof implementation would not exist.<span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'><span
style='mso-spacerun:yes'>  </span><o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>The
following people provided support, gave valuable comments, or in any other way
contributed to the library development (in alphabetical order):<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>David
Abrahams; <o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Andrey
Beliakov;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Joel
de Guzman;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Daniel
James;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Vesa
Karvonen;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Paul
Mensonides;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Alexander
Nasonov;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-left:18.0pt;text-indent:-18.0pt;mso-list:l6 level1 lfo14;
tab-stops:list 18.0pt'><![if !supportLists]><span lang=EN-US style='font-family:
Wingdings;mso-fareast-font-family:Wingdings;mso-bidi-font-family:Wingdings;
mso-ansi-language:EN-US'><span style='mso-list:Ignore'>§<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US style='mso-ansi-language:EN-US'>Martin
Wille.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Copyright ©
2004 - 2005 Arkadiy Vertleyb<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>Copyright ©
2005 Peder Holt<o:p></o:p></span></p>

<p class=MsoNormal><span lang=EN-US style='mso-ansi-language:EN-US'>&nbsp;<o:p></o:p></span></p>

</div>

</body>

</html>
