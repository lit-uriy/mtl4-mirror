// vim: syn=cpp:
#ifndef LAMBDA_SET_HPP
#define LAMBDA_SET_HPP

#include "tags.hpp"

[typed_closure set {^Var Value} {Var ValueT} \
  [get_type_is "[get_type value Env @]" \
	       "ValueT: k(typed_set(var,valuet))"] \
  [returns "typename ValueT::type"] \
  [run_is "return (env.get(var) = valuet.run(env));"]]

#endif // LAMBDA_SET_HPP
