// vim: syn=cpp:
#ifndef LAMBDA_VAR_HPP
#define LAMBDA_VAR_HPP

#include "tags.hpp"

[typed_closure variable {Var} {Var %ValueType} \
  [get_type_is \
    "k(typed_variable<[get_var_type Env Var]>(var))"] \
  [returns "ValueType"] \
  [run_is "return env.get(var);"]]

#define LAMBDA_VAR(v) struct v##_: public var_node { \
			typedef v##_ self; \
			/* LAMBDA_NODE_CONTENTS */ \
		      }; \
		      v##_ v

#endif // LAMBDA_VAR_HPP
